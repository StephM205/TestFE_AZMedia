<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Thống Kê - Admin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="d-flex">
      <!-- Sidebar -->
      <div id="sidebar-container"></div>

      <!-- Main Content -->
      <main class="content flex-grow-1">
        <button
          style="color: white; border: 0"
          id="sidebar-toggle"
          class="mobile-toggle"
        >
          <i class="bi bi-list"></i>
        </button>
        <h2>Thống Kê</h2>

        <!-- Attendance Chart -->
        <div class="row">
          <div class="col-md-6">
            <div class="card shadow-sm mb-4">
              <div class="card-body">
                <h5 class="card-title">Biểu Đồ Chấm Công</h5>
                <canvas id="attendanceChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Salary Chart -->
          <div class="col-md-6">
            <div class="card shadow-sm mb-4">
              <div class="card-body">
                <h5 class="card-title">Biểu Đồ Lương</h5>
                <canvas id="salaryChart"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Detailed Report Table -->
        <h4>Danh Sách Báo Cáo Chấm Công & Lương</h4>
        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>#</th>
                <th>Tên Nhân Viên</th>
                <th>Ngày</th>
                <th>Chấm Công</th>
                <th>Lương</th>
                <th>Hành Động</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Nguyễn Văn A</td>
                <td>01/04/2025</td>
                <td>9:00 AM - 5:00 PM</td>
                <td>10,000,000 VND</td>
                <td>
                  <a href="chi-tiet-thong-ke.html" class="btn btn-info btn-sm">
                    <i class="bi bi-eye me-2"></i>Chi Tiết
                  </a>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>Trần Thị B</td>
                <td>01/04/2025</td>
                <td>8:30 AM - 4:30 PM</td>
                <td>12,000,000 VND</td>
                <td>
                  <a href="chi-tiet-thong-ke.html" class="btn btn-info btn-sm">
                    <i class="bi bi-eye me-2"></i>Chi Tiết
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </main>
    </div>

    <script>
      fetch("layout/sidebar.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("sidebar-container").innerHTML = data;
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Attendance Chart
      var ctx1 = document.getElementById("attendanceChart").getContext("2d");
      var attendanceChart = new Chart(ctx1, {
        type: "bar",
        data: {
          labels: ["Ngày 1", "Ngày 2", "Ngày 3", "Ngày 4", "Ngày 5"],
          datasets: [
            {
              label: "Số Giờ Làm Việc",
              data: [8, 7, 8, 8, 6],
              backgroundColor: "rgba(75, 192, 192, 0.2)",
              borderColor: "rgba(75, 192, 192, 1)",
              borderWidth: 1,
            },
          ],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
            },
          },
        },
      });

      // Salary Chart
      var ctx2 = document.getElementById("salaryChart").getContext("2d");
      var salaryChart = new Chart(ctx2, {
        type: "line",
        data: {
          labels: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5"],
          datasets: [
            {
              label: "Lương Hàng Tháng (VND)",
              data: [10000000, 10500000, 11000000, 11500000, 12000000],
              backgroundColor: "rgba(153, 102, 255, 0.2)",
              borderColor: "rgba(153, 102, 255, 1)",
              borderWidth: 1,
            },
          ],
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
            },
          },
        },
      });

      const sidebar = document.getElementById("sidebar-container");
      const toggleButton = document.querySelector(".mobile-toggle");

      toggleButton.addEventListener("click", () => {
        sidebar.classList.toggle("open");
      });
    </script>
  </body>
</html>
